import {h, Component} from 'preact';
import hash from '../helpers/hash';

export default class Pattern extends Component {
  componentWillMount () {
    this._hash = hash(Math.random() + '');
    this._patternName = `rect-paper-${this._hash}`;
  }
  render () {
    const {styles} = this.props;

    return <svg preserveAspectRatio="none" height={`${styles.height}px`} viewBox={`0 0 ${350+Math.random()*0.0001} ${styles.height}`}>
                  <pattern id={this._patternName} x="0" y={`${-styles.svgTop}`} height="350" width="350" patternUnits="userSpaceOnUse">
                    <g id="Group" transform="translate(-1.000000, -1.000000)" stroke="#FFFFFF" stroke-width="1" fill="none" vector-effect="non-scaling-stroke">
                        <g opacity="0.25">
                          <path d="M333.497821,350.501088 L333.497821,0.501088302" />
                          <path d="M315.997821,350.501088 L315.997821,0.501088302" />
                          <path d="M298.497821,350.501088 L298.497821,0.501088302" />
                          <path d="M280.997821,350.501088 L280.997821,0.501088302" />
                          <path d="M245.997821,350.501088 L245.997821,0.501088302" />
                          <path d="M228.497821,350.501088 L228.497821,0.501088302" />
                          <path d="M210.997821,350.501088 L210.997821,0.501088302" />
                          <path d="M193.497821,350.501088 L193.497821,0.501088302" />
                          <path d="M159.372821,350.501088 L159.372821,0.501088302" />
                          <path d="M141.872821,350.501088 L141.872821,0.501088302" />
                          <path d="M124.372821,350.501088 L124.372821,0.501088302" />
                          <path d="M106.872821,350.501088 L106.872821,0.501088302" />
                          <path d="M71.8728207,350.501088 L71.8728207,0.501088302" />
                          <path d="M54.3728207,350.501088 L54.3728207,0.501088302" />
                          <path d="M36.8728207,350.501088 L36.8728207,0.501088302" />
                          <path d="M19.3728207,350.501088 L19.3728207,0.501088302" />
                          <path d="M351.001088,19.0021793 L1.0010883,19.0021793" />
                          <path d="M351.001088,36.5021793 L1.0010883,36.5021793" />
                          <path d="M351.001088,54.0021793 L1.0010883,54.0021793" />
                          <path d="M351.001088,71.5021793 L1.0010883,71.5021793" />
                          <path d="M351.001088,106.502179 L1.0010883,106.502179" />
                          <path d="M351.001088,124.002179 L1.0010883,124.002179" />
                          <path d="M351.001088,141.502179 L1.0010883,141.502179" />
                          <path d="M351.001088,159.002179 L1.0010883,159.002179" />
                          <path d="M351.001088,193.127179 L1.0010883,193.127179" />
                          <path d="M351.001088,210.627179 L1.0010883,210.627179" />
                          <path d="M351.001088,228.127179 L1.0010883,228.127179" />
                          <path d="M351.001088,245.627179 L1.0010883,245.627179" />
                          <path d="M351.001088,280.627179 L1.0010883,280.627179" />
                          <path d="M351.001088,298.127179 L1.0010883,298.127179" />
                          <path d="M351.001088,315.627179 L1.0010883,315.627179" />
                          <path d="M351.001088,333.127179 L1.0010883,333.127179" />
                        </g>
                        <g opacity="0.5">
                          <path d="M88.0641352,1 L88.0641352,351" />
                          <path d="M175.12827,1 L175.12827,351" />
                          <path d="M262.192406,1 L262.192406,351" />
                          <path d="M350.563591,88.0646793 L0.563591022,88.0646793" />
                          <path d="M350.563591,175.564679 L0.563591022,175.564679" />
                          <path d="M350.563591,263.064679 L0.563591022,263.064679" />
                        </g>
                        <rect opacity="0.75" x="1" y="1" width="350" height="350"></rect>
                      </g>
                    </pattern>

                  <rect width="350" height={styles.height} fill={`url(#${this._patternName})`} />
                  </svg>
  }
}